# PROYECTO: YOUTUBE CONTENT MANAGER


---

## OBJETIVO PRINCIPAL

Crear una aplicaci√≥n web Laravel con las siguientes caracter√≠sticas:

---

## 1. ESTRUCTURA DE BASE DE DATOS

Necesito migraciones de PostgreSQL para las siguientes tablas (corrigiendo inconsistencias del SQL original),
falta crear las relaciones con la tabala users para tambien tomar en cuenta al usuario

### Tablas para Listas de Reproducci√≥n:

**Tabla: playlists**
- id (Primary Key)
- title (string, required)
- description (text, nullable)
- url (string, required, unique)
- created_at
- updated_at

**Tabla: playlist_categories**
- id (Primary Key)
- name (string, required, unique)
- created_at
- updated_at

**Tabla: playlist_category (Pivote)**
- playlist_id (Foreign Key ‚Üí playlists.id)
- category_id (Foreign Key ‚Üí playlist_categories.id)
- Primary Key compuesta (playlist_id, category_id)
- CASCADE en eliminaci√≥n

### Tablas para Canales:

**Tabla: channels**
- id (Primary Key)
- name (string, required)
- description (text, nullable)
- url (string, required, unique)
- created_at
- updated_at

**Tabla: channel_categories**
- id (Primary Key)
- name (string, required, unique)
- created_at
- updated_at

**Tabla: channel_category (Pivote)**
- channel_id (Foreign Key ‚Üí channels.id)
- category_id (Foreign Key ‚Üí channel_categories.id)
- Primary Key compuesta (channel_id, category_id)
- CASCADE en eliminaci√≥n

### Relaciones:
- Muchos a Muchos entre Playlists y Playlist_Categories
- Muchos a Muchos entre Channels y Channel_Categories
- Todas las relaciones con CASCADE en eliminaci√≥n

---

## 2. ESTRUCTURA DE P√ÅGINAS Y FUNCIONALIDADES

### 2.1 Landing Page (Home) - Ruta: `/`

**Dise√±o:**
- Dos tarjetas principales con dise√±o moderno usando Tailwind
- Layout centrado y responsive

**Tarjetas:**
1. **"Categor√≠as de Listas de Reproducci√≥n"**
   - Enlaza a `/playlist-categories`
   - Icono sugerido: üì∫ o similar
   - Descripci√≥n breve

2. **"Categor√≠as de Canales"**
   - Enlaza a `/channel-categories`
   - Icono sugerido: üì° o similar
   - Descripci√≥n breve

---

### 2.2 P√°gina de Categor√≠as de Listas de Reproducci√≥n

**Ruta:** `/playlist-categories`

**Breadcrumbs:** `Home > Categor√≠as de Listas de Reproducci√≥n`

**Funcionalidades:**
- Mostrar todas las categor√≠as en formato grid de tarjetas
- Cada tarjeta muestra:
  - Nombre de la categor√≠a
  - Contador de playlists asociadas
  - Fecha de creaci√≥n
- Barra de b√∫squeda/filtro por nombre
- Bot√≥n "Nueva Categor√≠a" que abre modal

**Acciones en Tarjetas:**
- Click en tarjeta ‚Üí `/playlist-categories/{id}/playlists`
- Bot√≥n Editar ‚Üí Abre modal de edici√≥n
- Bot√≥n Eliminar ‚Üí Muestra confirmaci√≥n antes de eliminar

**Modal de Agregar/Editar Categor√≠a:**
- Campo: Nombre (requerido)
- Botones: Guardar / Cancelar
- Validaci√≥n en tiempo real

---

### 2.3 P√°gina de Listas de Reproducci√≥n por Categor√≠a

**Ruta:** `/playlist-categories/{id}/playlists`

**Breadcrumbs:** `Home > Categor√≠as de Listas > [Nombre Categor√≠a]`

**Header:**
- T√≠tulo: Nombre de la categor√≠a actual
- Bot√≥n "Nueva Playlist"

**Funcionalidades:**
- Grid de tarjetas de playlists
- Cada tarjeta muestra:
  - T√≠tulo de la playlist
  - Descripci√≥n (truncada si es larga)
  - Thumbnail de YouTube (si es posible extraerlo de la URL)
  - Icono/bot√≥n de enlace externo a YouTube
  - Tags de las categor√≠as asignadas
- Barra de b√∫squeda/filtro por nombre
- Ordenamiento opcional (por fecha, nombre)

**Acciones en Tarjetas:**
- Click en t√≠tulo/imagen ‚Üí Abre YouTube en nueva pesta√±a
- Bot√≥n Editar ‚Üí Abre modal de edici√≥n
- Bot√≥n Eliminar ‚Üí Muestra confirmaci√≥n antes de eliminar

**Modal de Agregar/Editar Playlist:**
- Campo: T√≠tulo (requerido)
- Campo: URL de YouTube (requerido, validar formato)
- Campo: Descripci√≥n (textarea, opcional)
- Campo: Categor√≠as (select m√∫ltiple, m√≠nimo 1 requerida)
- Vista previa de thumbnail si la URL es v√°lida
- Botones: Guardar / Cancelar

---

### 2.4 P√°gina de Categor√≠as de Canales

**Ruta:** `/channel-categories`

**Breadcrumbs:** `Home > Categor√≠as de Canales`

**Funcionalidades:**
- Mostrar todas las categor√≠as en formato grid de tarjetas
- Cada tarjeta muestra:
  - Nombre de la categor√≠a
  - Contador de canales asociados
  - Fecha de creaci√≥n
- Barra de b√∫squeda/filtro por nombre
- Bot√≥n "Nueva Categor√≠a" que abre modal

**Acciones en Tarjetas:**
- Click en tarjeta ‚Üí `/channel-categories/{id}/channels`
- Bot√≥n Editar ‚Üí Abre modal de edici√≥n
- Bot√≥n Eliminar ‚Üí Muestra confirmaci√≥n antes de eliminar

**Modal de Agregar/Editar Categor√≠a:**
- Campo: Nombre (requerido)
- Botones: Guardar / Cancelar
- Validaci√≥n en tiempo real

---

### 2.5 P√°gina de Canales por Categor√≠a

**Ruta:** `/channel-categories/{id}/channels`

**Breadcrumbs:** `Home > Categor√≠as de Canales > [Nombre Categor√≠a]`

**Header:**
- T√≠tulo: Nombre de la categor√≠a actual
- Bot√≥n "Nuevo Canal"

**Funcionalidades:**
- Grid de tarjetas de canales
- Cada tarjeta muestra:
  - Nombre del canal
  - Descripci√≥n (truncada si es larga)
  - Thumbnail de YouTube (si es posible extraerlo de la URL)
  - Icono/bot√≥n de enlace externo a YouTube
  - Tags de las categor√≠as asignadas
- Barra de b√∫squeda/filtro por nombre
- Ordenamiento opcional (por fecha, nombre)

**Acciones en Tarjetas:**
- Click en t√≠tulo/imagen ‚Üí Abre YouTube en nueva pesta√±a
- Bot√≥n Editar ‚Üí Abre modal de edici√≥n
- Bot√≥n Eliminar ‚Üí Muestra confirmaci√≥n antes de eliminar

**Modal de Agregar/Editar Canal:**
- Campo: Nombre (requerido)
- Campo: URL de YouTube (requerido, validar formato)
- Campo: Descripci√≥n (textarea, opcional)
- Campo: Categor√≠as (select m√∫ltiple, m√≠nimo 1 requerida)
- Vista previa de thumbnail si la URL es v√°lida
- Botones: Guardar / Cancelar

---

## 3. VALIDACIONES REQUERIDAS

### Validaciones de URLs de YouTube:

**Para Playlists:**
- Formato v√°lido: `https://www.youtube.com/playlist?list=...`
- Regex sugerido: `/^(https?:\/\/)?(www\.)?youtube\.com\/playlist\?list=[\w-]+$/`

**Para Canales:**
- Formatos v√°lidos:
  - `https://www.youtube.com/@nombrecanal`
  - `https://www.youtube.com/channel/UC...`
  - `https://www.youtube.com/c/nombrecanal`
- Regex sugerido: `/^(https?:\/\/)?(www\.)?youtube\.com\/(c\/|channel\/|@)[\w-]+$/`

### Validaciones de Formularios:

**Categor√≠as:**
- Nombre: required, string, max:255, unique (en su tabla respectiva)

**Playlists:**
- title: required, string, max:255
- url: required, url, unique, validaci√≥n personalizada de YouTube
- description: nullable, string, max:1000
- categories: required, array, min:1

**Canales:**
- name: required, string, max:255
- url: required, url, unique, validaci√≥n personalizada de YouTube
- description: nullable, string, max:1000
- categories: required, array, min:1

---

## 4. REQUERIMIENTOS DE UI/UX

### Dise√±o General:
- **Framework CSS:** Tailwind CSS (ya configurado)
- **Tema:** Moderno, limpio y minimalista
- **Colores:** Paleta inspirada en YouTube (rojo, blanco, negro, grises)
- **Responsive:** Totalmente adaptable a m√≥viles y tablets

### Componentes Espec√≠ficos:

**Breadcrumbs:**
- Visible en todas las p√°ginas excepto Home
- Formato: `Home > Secci√≥n > Subsecci√≥n`
- Links funcionales para navegaci√≥n r√°pida
- Usar iconos (‚Üí o /) como separadores

**Tarjetas:**
- Sombra suave con hover effect (elevaci√≥n)
- Bordes redondeados
- Padding generoso
- Transiciones suaves
- Botones de acci√≥n visibles en hover

**Modales:**
- Centrados en pantalla
- Fondo oscuro semi-transparente (backdrop)
- Animaci√≥n de aparici√≥n (fade in + scale)
- Cerrar con X, ESC o click fuera del modal
- Formularios con validaci√≥n en tiempo real

**Confirmaciones de Eliminaci√≥n:**
- Modal con mensaje claro
- Botones: "Cancelar" (gris) y "Eliminar" (rojo)
- Mostrar nombre del elemento a eliminar

**Notificaciones:**
- Toast notifications o Alerts para:
  - ‚úÖ Creaci√≥n exitosa
  - ‚úÖ Actualizaci√≥n exitosa
  - ‚úÖ Eliminaci√≥n exitosa
  - ‚ùå Errores de validaci√≥n
- Posici√≥n: Top-right de la pantalla
- Auto-dismiss despu√©s de 3-5 segundos

**B√∫squeda/Filtros:**
- Input con icono de lupa
- B√∫squeda en tiempo real (debounced)
- Placeholder descriptivo

**Thumbnails de YouTube:**
- Intentar extraer usando:
  - Para playlists: `https://img.youtube.com/vi/[VIDEO_ID]/maxresdefault.jpg`
  - Para canales: Usar YouTube Data API o placeholder si no es posible
- Fallback: Imagen placeholder gen√©rica
- Lazy loading para optimizaci√≥n

---

## 5. CONFIGURACI√ìN INICIAL NECESARIA

### 5.1 Configuraci√≥n de PostgreSQL:

```bash
# Crear base de datos
createdb youtube_manager
```

### 5.2 Actualizar archivo `.env`:

```env
DB_CONNECTION=pgsql
DB_HOST=127.0.0.1
DB_PORT=5432
DB_DATABASE=youtube_manager
DB_USERNAME=[tu_usuario]
DB_PASSWORD=[tu_contrase√±a]
```

### 5.3 Comandos a ejecutar:

```bash
# Instalar dependencias
composer install
npm install

# Generar key
php artisan key:generate

# Ejecutar migraciones
php artisan migrate

# Compilar assets
npm run dev

# Iniciar servidor
php artisan serve
```

---

## 6. PRIORIDAD DE IMPLEMENTACI√ìN

### ‚úÖ FASE 1: Fundaci√≥n (Implementar primero)
1. Verificar y ajustar configuraci√≥n de PostgreSQL
2. Crear todas las migraciones necesarias
3. Crear modelos Eloquent con relaciones:
   - `Playlist` con relaci√≥n `belongsToMany` a `PlaylistCategory`
   - `PlaylistCategory` con relaci√≥n `belongsToMany` a `Playlist`
   - `Channel` con relaci√≥n `belongsToMany` a `ChannelCategory`
   - `ChannelCategory` con relaci√≥n `belongsToMany` a `Channel`
4. Verificar sistema de autenticaci√≥n existente
5. Crear layout base con navegaci√≥n y breadcrumbs
6. Implementar Landing Page con las dos tarjetas principales

### ‚úÖ FASE 2: M√≥dulo de Playlists
7. Crear controladores:
   - `PlaylistCategoryController`
   - `PlaylistController`
8. Crear rutas correspondientes
9. Implementar vistas de Categor√≠as de Playlists:
   - Index de categor√≠as
   - Modales de crear/editar/eliminar categor√≠a
10. Implementar vistas de Playlists:
    - Index de playlists por categor√≠a
    - Modales de crear/editar/eliminar playlist
11. Implementar validaciones personalizadas para URLs de YouTube
12. Implementar b√∫squeda/filtrado

### ‚úÖ FASE 3: M√≥dulo de Canales
13. Crear controladores:
    - `ChannelCategoryController`
    - `ChannelController`
14. Crear rutas correspondientes
15. Implementar vistas de Categor√≠as de Canales:
    - Index de categor√≠as
    - Modales de crear/editar/eliminar categor√≠a
16. Implementar vistas de Canales:
    - Index de canales por categor√≠a
    - Modales de crear/editar/eliminar canal
17. Implementar validaciones personalizadas para URLs de YouTube
18. Implementar b√∫squeda/filtrado

### ‚úÖ FASE 4: Pulido y Optimizaci√≥n
19. Implementar thumbnails de YouTube
20. A√±adir notificaciones toast
21. Mejorar transiciones y animaciones
22. Optimizar b√∫squedas (considerar √≠ndices en BD)
23. A√±adir seeders con datos de ejemplo para testing
24. Pruebas de usabilidad y correcci√≥n de bugs

---

## 7. ESTRUCTURA DE ARCHIVOS SUGERIDA

```
app/
‚îú‚îÄ‚îÄ Http/
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistCategoryController.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PlaylistController.php
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChannelCategoryController.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ChannelController.php
‚îÇ   ‚îî‚îÄ‚îÄ Requests/
‚îÇ       ‚îú‚îÄ‚îÄ StorePlaylistRequest.php
‚îÇ       ‚îú‚îÄ‚îÄ UpdatePlaylistRequest.php
‚îÇ       ‚îú‚îÄ‚îÄ StoreChannelRequest.php
‚îÇ       ‚îî‚îÄ‚îÄ UpdateChannelRequest.php
‚îú‚îÄ‚îÄ Models/
‚îÇ   ‚îú‚îÄ‚îÄ Playlist.php
‚îÇ   ‚îú‚îÄ‚îÄ PlaylistCategory.php
‚îÇ   ‚îú‚îÄ‚îÄ Channel.php
‚îÇ   ‚îî‚îÄ‚îÄ ChannelCategory.php
‚îî‚îÄ‚îÄ Rules/
    ‚îú‚îÄ‚îÄ YouTubePlaylistUrl.php
    ‚îî‚îÄ‚îÄ YouTubeChannelUrl.php

database/
‚îú‚îÄ‚îÄ migrations/
‚îÇ   ‚îú‚îÄ‚îÄ xxxx_create_playlists_table.php
‚îÇ   ‚îú‚îÄ‚îÄ xxxx_create_playlist_categories_table.php
‚îÇ   ‚îú‚îÄ‚îÄ xxxx_create_playlist_category_table.php
‚îÇ   ‚îú‚îÄ‚îÄ xxxx_create_channels_table.php
‚îÇ   ‚îú‚îÄ‚îÄ xxxx_create_channel_categories_table.php
‚îÇ   ‚îî‚îÄ‚îÄ xxxx_create_channel_category_table.php
‚îî‚îÄ‚îÄ seeders/
    ‚îî‚îÄ‚îÄ DemoDataSeeder.php

resources/
‚îú‚îÄ‚îÄ views/
‚îÇ   ‚îú‚îÄ‚îÄ layouts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ app.blade.php
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ breadcrumbs.blade.php
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ modal.blade.php
‚îÇ   ‚îú‚îÄ‚îÄ home.blade.php
‚îÇ   ‚îú‚îÄ‚îÄ playlist-categories/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.blade.php
‚îÇ   ‚îú‚îÄ‚îÄ playlists/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.blade.php
‚îÇ   ‚îú‚îÄ‚îÄ channel-categories/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.blade.php
‚îÇ   ‚îî‚îÄ‚îÄ channels/
‚îÇ       ‚îî‚îÄ‚îÄ index.blade.php
‚îî‚îÄ‚îÄ js/
    ‚îî‚îÄ‚îÄ components/
        ‚îú‚îÄ‚îÄ modal.js
        ‚îú‚îÄ‚îÄ toast.js
        ‚îî‚îÄ‚îÄ search.js

routes/
‚îî‚îÄ‚îÄ web.php
```

---

## 8. NOTAS IMPORTANTES PARA EL DESARROLLO

### Para el Desarrollador (yo):
- ‚ö†Ô∏è Soy principiante en Laravel
- üìù Por favor incluir **comentarios explicativos** en el c√≥digo
- üéì Explicar conceptos de Laravel cuando sea necesario
- ‚úÖ Seguir las convenciones y mejores pr√°cticas de Laravel

### Mejores Pr√°cticas a Seguir:
- Usar **Form Requests** para validaciones complejas
- Usar **Resource Controllers** para operaciones CRUD
- Implementar **Soft Deletes** si es necesario en el futuro
- Usar **Eloquent Relationships** correctamente
- Nomenclatura consistente (espa√±ol o ingl√©s, no mezclar)
- Separar l√≥gica de negocio del controlador (usar Services si es necesario)

### Seguridad:
- Validar TODAS las entradas de usuario
- Usar protecci√≥n CSRF en formularios (ya incluido en Laravel)
- Sanitizar URLs antes de mostrar
- Prevenir Mass Assignment usando `$fillable` en modelos

---

## 9. EJEMPLOS DE DATOS PARA TESTING

### Categor√≠as de Playlists (Ejemplo):
- "Programaci√≥n"
- "M√∫sica"
- "Tutoriales"
- "Entretenimiento"
- "Educaci√≥n"

### Playlists (Ejemplo):
```
T√≠tulo: "Laravel desde Cero"
URL: https://www.youtube.com/playlist?list=PLZ2ovOgdI-kWWS9aq8mfUDkJRfYib-SvF
Descripci√≥n: "Curso completo de Laravel para principiantes"
Categor√≠as: ["Programaci√≥n", "Tutoriales", "Educaci√≥n"]
```

### Categor√≠as de Canales (Ejemplo):
- "Tech Reviews"
- "Educativo"
- "Entretenimiento"
- "Noticias"
- "Gaming"

### Canales (Ejemplo):
```
Nombre: "Traversy Media"
URL: https://www.youtube.com/@TraversyMedia
Descripci√≥n: "Canal de desarrollo web y programaci√≥n"
Categor√≠as: ["Programaci√≥n", "Educativo", "Tutoriales"]
```

---

## 10. ENTREGABLES ESPERADOS

Al finalizar cada fase, deber√≠as tener:

### Fase 1:
- ‚úÖ Base de datos configurada y migraciones ejecutadas
- ‚úÖ Modelos creados con relaciones funcionales
- ‚úÖ Autenticaci√≥n verificada y funcional
- ‚úÖ Landing page con navegaci√≥n b√°sica

### Fase 2:
- ‚úÖ CRUD completo de Categor√≠as de Playlists
- ‚úÖ CRUD completo de Playlists con asignaci√≥n m√∫ltiple de categor√≠as
- ‚úÖ B√∫squeda y filtrado funcional
- ‚úÖ Validaci√≥n de URLs de YouTube

### Fase 3:
- ‚úÖ CRUD completo de Categor√≠as de Canales
- ‚úÖ CRUD completo de Canales con asignaci√≥n m√∫ltiple de categor√≠as
- ‚úÖ B√∫squeda y filtrado funcional
- ‚úÖ Validaci√≥n de URLs de YouTube

### Fase 4:
- ‚úÖ Thumbnails de YouTube funcionando
- ‚úÖ Notificaciones implementadas
- ‚úÖ UI/UX pulida y responsive
- ‚úÖ Aplicaci√≥n completamente funcional y lista para usar

---



---

**¬°Listo para comenzar el desarrollo! üöÄ**